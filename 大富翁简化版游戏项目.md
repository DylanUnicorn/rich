**大富翁简化版游戏项目**

**一、项目介绍**

大富翁（Rich）是一款经典的策略游戏，相信不少人都玩过。游戏有点类似飞行棋，多个玩家轮流掷骰子，按点数在地图上行走，可以买地、盖房子、使用道具等。途经其他玩家的地盘，需支付费用。破产者为输，坚持到最后的玩家为胜利者。

本项目开发一个完全基于命令行的大富翁游戏，实现传统大富翁游戏的一些基本功能，如买地、盖房、使用道具（路障、炸弹、机器娃娃等），不涉及图形界面开发，主要通过该项目的开发，演练迭代开发。

**二、游戏功能描述**

**1. 玩家**

游戏支持2～4个玩家。

**2. 地图**

初始地图如下所示，是一个简单的矩形，玩家顺时针行走。

            地段 1
S0000000000000H0000000000000T      
$                           0
$                           0
$                           0    地段 2
$                           0
$                           0
$                           0
M0000000000000P0000000000000G
            地段 3

地形有如下几种：

**S**：起点

**0**：空地：共3个地段。地段1、3各有26块空地，地段2有6块空地，各地段地皮价格不同：

地段1每块200元；

地段2为黄金地段，每块500元；

地段3每块300元。

**T**：道具屋

**G**：礼品屋

**M**：魔法屋

**H**：医院：玩家被炸弹炸伤后，将被送到医院医治3天（轮空3次）

**P**：监狱：刚好走到该处，玩家被扣留2天（轮空2次）

**\$**：矿地，可获取点数。从上至下，依次为：20、80、100、40、80、60点。

每块地都有一编号，起点S编号为0，顺时针递增，最后一块矿地S编号69。

**3. 资产**

玩家有四类资产：

**资金**：用于购地、盖房、支付过路费。

**点数**：用于购买道具。经过矿地时可获取点数。

**固定资产**：玩家占有的土地、楼房。

**道具**：如炸弹、路障等。

**4.道具**

**路障**：玩家拥有路障后，可将路障放置到当前位置前后 10
步内的距离，任一玩家经过路障，都将被拦截。

**炸弹**：玩家可将炸弹放置到当前位置前后 10
步内的距离，任一玩家经过该位置，将被炸伤，送往医院，住院三天。

**机器娃娃**：使用该道具可清扫前方路面 10 步内的其他道具，如炸弹、路障。

道具一次有效。

**5.礼品**

**奖金**：2000 元

**点数卡**：200 点

**财神**：财神附身，路过其他玩家地产，均可免费。5 轮内有效。

玩家进入礼品屋，可任选一件礼品。

**6.魔法屋**

玩家进入魔法屋可施展魔法

**三、游戏规则和命令解释**

**1. 运行游戏**

命令：rich.exe

**2. 设置玩家初始资金**

范围：1000～50000（默认10000）

**3. 选择玩家**

系统提示：

  --------------------------------------------------------------------------------------
  请选择2～4位不重复玩家，输入编号即可（1、钱夫人；2、阿土伯；3、孙小美；4、金贝贝）：

  --------------------------------------------------------------------------------------

例如输入：12

**4. 行走**

控制台显示当前玩家姓名和颜色：

阿土伯（绿色）

钱夫人（红色）

孙小美（蓝色）

金贝贝（黄色）

例如：

  -----------------------------------------------------------------------
  Plain Text\
  钱夫人\> 待输入命令

  -----------------------------------------------------------------------

命令：Roll

掷骰子行走1\~6步。

玩家在地图上显示为名字拼音的缩写：

钱夫人：Q

阿土伯：A

孙小美：S

金贝贝：J

玩家显示的符号覆盖当前位置的地产符号。

**5. 建设**

玩家停留在一块未被购买的空地时，系统提示是否购买。购买成功后，空地符号"0"变为当前玩家的颜色，表示被该玩家占有。

房屋分三级，每升一级的费用同购买空地的费用：

  ----------------- ----------------- ----------------- -----------------
  空地              茅屋              洋房              摩天楼

  0                 1                 2                 3
  ----------------- ----------------- ----------------- -----------------

停留在其他玩家的房产上时，需支付相应的过路费，费用为该处房产价值的1/2。如果财神附身，可免付过路费，系统提示："财神附身，可免过路费"。如果地产主人在医院或监狱中，也可免过路费。

**6. 出售房产**

命令：sell n

n指定房产在地图上的绝对位置。出售价格为投资总成本的2倍。

**7. 购买道具**

玩家进入道具屋时，系统提示：

  -----------------------------------------------------------------------
  欢迎光临道具屋，请选择您所需要的道具：

  -----------------------------------------------------------------------

通过输入道具编号选择道具，每位玩家最多可以拥有10个道具。

  ----------------- ----------------- ----------------- -----------------
  道具              编号              价值（点数）      显示方式

  路障              1                 50                \#

  机器娃娃          2                 30                无

  炸弹              3                 50                @
  ----------------- ----------------- ----------------- -----------------

如果玩家点数不足以购买最便宜的道具，自动退出道具屋。按"F"可手动退出道具屋。

**8. 获赠礼品**

玩家进入礼品屋时，系统提示：

  -----------------------------------------------------------------------
  欢迎光临礼品屋，请选择一件您喜欢的礼品：

  -----------------------------------------------------------------------

通过输入礼品编号选择礼品：

  ----------------------------------- -----------------------------------
  礼品                                编号

  奖金                                1

  点数卡                              2

  财神                                3
  ----------------------------------- -----------------------------------

只能选择一件礼品，选择后自动退出礼品屋（输入错误也退出，就当放弃此次机会），礼品即时生效。

**9. 使用魔法**

（未详细说明，需玩家进入魔法屋后触发）

**10. 使用路障**

命令：block n

n为前后的相对距离，负数表示后方。玩家可将路障放置到离当前位置前后10步的任何位置。

**11. 使用炸弹**

命令：bomb n

n为前后的相对距离，负数表示后方。玩家可将炸弹放置到离当前位置前后10步的任何位置。

**12. 使用机器娃娃**

命令：robot

清除前方10步内的任何障碍，如路障、炸弹。

**13. 查询资产**

命令：query

显示自家资产信息。

**14. 帮助**

命令：help

显示各个命令的使用说明。

**15. 退出游戏**

命令：quit

强制结束游戏。

**16. 游戏结束**

玩家资金低于0时，即宣告破产。该玩家占有的土地归还系统，初始化为空地，可供其他玩家重新购买。只剩一个玩家时，游戏结束，该玩家获胜。

**17. 其他说明**

所有命令忽略大小写；

所有系统提示信息仅供参考，可自由发挥，力求完备而不冗余。

**四、可测试性需求**

**1. 遥控骰子功能**

命令：step n

n为指定的步数，可指定行走任意步数。

**2. 其他可测试需求**

自行考虑。

**五、附录：命令一览表**

  ----------------------------------- ------------------------------------------------------------------
  命令                                功能说明

  roll                                掷骰子命令，行走1～6步，步数由随机算法产生。

  sell n                              出售房产，n为房产在地图上的绝对位置，出售价格为投资总成本的2倍。

  block n                             放置路障，n为前后相对距离（±10步），玩家经过将被拦截。

  bomb n                              放置炸弹，n为前后相对距离（±10步），玩家经过将被炸伤，住院3天。

  robot                               清扫前方10步内的障碍（路障、炸弹）。

  query                               显示自家资产信息。

  help                                查看命令帮助。

  quit                                强制退出游戏。

  step n                              遥控骰子，指定行走步数。
客户需求变了
1、变更 财神出现的时机
玩了10个回合后，财神随机出现在没有玩家没有道具的地图位置上（礼品屋、道具屋除外），显示为
"F”，第一个路过玩家可获取
财神可保持5回合，如果没有被领取，财神原地消失
上一个财神失效后，之后10回命内新的财神才会随机再出现
获得财神后，当轮即可生效，免收租金
2、删除 魔法屋、监狱、医院、炸弹相关的功能
监狱和轮空相关的功能较多，魔法屋的功能用户没有想好，所以客户决定删除监狱、医院、炸弹、魔法
屋相关的功能
地图上的监狱、医院、魔法屋都改成公园，显示符号为P
玩家到达公园，不做任何处理